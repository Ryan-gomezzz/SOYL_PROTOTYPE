/**
 * SOYL Custom Cursor
 * 
 * Usage:
 * 1. Add to your main CSS: @import './components/CustomCursor.css';
 * 2. Add this JS snippet to your app initialization:
 * 
 * // Initialize custom cursor (12 lines)
 * if (window.matchMedia('(pointer: fine)').matches && !('ontouchstart' in window)) {
 *   document.body.classList.add('custom-cursor-enabled');
 *   const dot = document.createElement('div');
 *   const ring = document.createElement('div');
 *   dot.className = 'cursor-dot';
 *   ring.className = 'cursor-ring';
 *   document.body.appendChild(dot);
 *   document.body.appendChild(ring);
 *   document.addEventListener('mousemove', (e) => {
 *     dot.style.transform = `translate(${e.clientX}px, ${e.clientY}px)`;
 *     ring.style.transform = `translate(${e.clientX}px, ${e.clientY}px)`;
 *   });
 * }
 * 
 * To disable: Remove 'custom-cursor-enabled' class from body
 */

/* ============================================
   Custom Cursor Base
   ============================================ */

.custom-cursor-enabled {
  cursor: none !important;
}

.custom-cursor-enabled * {
  cursor: none !important;
}

.cursor-dot,
.cursor-ring {
  position: fixed;
  top: 0;
  left: 0;
  pointer-events: none;
  z-index: 10000;
  will-change: transform;
  mix-blend-mode: difference;
}

.cursor-dot {
  width: 8px;
  height: 8px;
  background-color: var(--color-primary, #fff);
  border-radius: 50%;
  transform-origin: center center;
  transition: transform 0.1s cubic-bezier(0.22, 1, 0.36, 1),
              background-color 0.2s ease,
              width 0.2s ease,
              height 0.2s ease;
  translate: -50% -50%;
}

.cursor-ring {
  width: 32px;
  height: 32px;
  border: 2px solid var(--color-accent, rgba(255, 255, 255, 0.5));
  border-radius: 50%;
  transform-origin: center center;
  transition: transform 0.15s cubic-bezier(0.22, 1, 0.36, 1),
              width 0.3s ease,
              height 0.3s ease,
              border-color 0.2s ease,
              opacity 0.2s ease;
  translate: -50% -50%;
}

/* ============================================
   Cursor States & Interactions
   ============================================ */

/* Hover over interactive elements */
.custom-cursor-enabled a:hover ~ .cursor-dot,
.custom-cursor-enabled button:hover ~ .cursor-dot,
.custom-cursor-enabled [role="button"]:hover ~ .cursor-dot,
.custom-cursor-enabled input:hover ~ .cursor-dot,
.custom-cursor-enabled textarea:hover ~ .cursor-dot {
  transform: scale(1.5);
  background-color: var(--color-accent, #fff);
}

.custom-cursor-enabled a:hover ~ .cursor-ring,
.custom-cursor-enabled button:hover ~ .cursor-ring,
.custom-cursor-enabled [role="button"]:hover ~ .cursor-ring {
  transform: scale(1.5);
  border-color: var(--color-primary, rgba(255, 255, 255, 0.8));
}

/* Active/pressed state */
.custom-cursor-enabled *:active ~ .cursor-dot {
  transform: scale(0.8);
}

.custom-cursor-enabled *:active ~ .cursor-ring {
  transform: scale(0.9);
}

/* Focus state - hide cursor ring to avoid distraction */
.custom-cursor-enabled *:focus ~ .cursor-ring {
  opacity: 0.3;
}

/* Form inputs - smaller cursor */
.custom-cursor-enabled input:hover ~ .cursor-dot,
.custom-cursor-enabled textarea:hover ~ .cursor-dot,
.custom-cursor-enabled select:hover ~ .cursor-dot {
  width: 4px;
  height: 4px;
}

.custom-cursor-enabled input:hover ~ .cursor-ring,
.custom-cursor-enabled textarea:hover ~ .cursor-ring,
.custom-cursor-enabled select:hover ~ .cursor-ring {
  width: 24px;
  height: 24px;
}

/* ============================================
   Accessibility & Fallbacks
   ============================================ */

/* Disable on touch devices */
@media (hover: none) and (pointer: coarse) {
  .custom-cursor-enabled {
    cursor: auto !important;
  }
  
  .custom-cursor-enabled * {
    cursor: auto !important;
  }
  
  .cursor-dot,
  .cursor-ring {
    display: none !important;
  }
}

/* Disable for reduced motion */
@media (prefers-reduced-motion: reduce) {
  .cursor-dot,
  .cursor-ring {
    transition: none;
  }
  
  .cursor-ring {
    display: none;
  }
  
  .cursor-dot {
    width: 6px;
    height: 6px;
  }
}

/* Fallback for browsers without custom cursor support */
@supports not (cursor: none) {
  .custom-cursor-enabled {
    cursor: pointer !important;
  }
  
  .cursor-dot,
  .cursor-ring {
    display: none;
  }
}

/* Hide cursor when leaving window */
.custom-cursor-enabled:not(:hover) .cursor-dot,
.custom-cursor-enabled:not(:hover) .cursor-ring {
  opacity: 0;
}

/* ============================================
   Dark Mode Support
   ============================================ */

.theme-dark .cursor-dot {
  background-color: var(--color-accent, #fff);
}

.theme-dark .cursor-ring {
  border-color: var(--color-primary, rgba(255, 255, 255, 0.6));
}

